@inject IJSRuntime JS

@page "/"

<link href="css/site.css" rel="stylesheet"/>
<script src="js/site.js"></script>
<!-- Голографическая сетка -->
<div class="holo-grid"></div>
<div class="holo-lines"></div>
<div class="holo-glow"></div>
<div class="scan-wave"></div>

<!-- Добавляем вспышки -->
<div class="spark spark-1"></div>
<div class="spark spark-2"></div>
<div class="spark spark-3"></div>
<div class="spark spark-4"></div>
<div class="spark spark-5"></div>

<div class="scanlines"></div>

<h1 class="hidden glitch flicker" id="loadingText">>> ПОДКЛЮЧЕНИЕ К СИСТЕМЕ ...</h1>
<p class="hidden glitch flicker" id="errorText">⚠ ОШИБКА: ЦЕЛОСТНОСТЬ ДАННЫХ НАРУШЕНА.</p>

<!-- Глючное изображение -->
<div class="glitch-container hidden" id="glitchImageContainer">
    <img src="images/m1000x1000.jpg" class="glitch-image" alt="Зашифрованное сообщение">
</div>

<!-- Финальное загадочное сообщение -->
<p class="hidden flicker" id="finalText">
    <span class="glitch">[ВНИМАНИЕ: АРХИВНЫЙ ФАЙЛ ОБНАРУЖЕН]</span><br>
    >> <span class="glitch">СИСТЕМА ГАЙЯ</span> // Дата повреждена // Код целостности 43.7% //<br>
    >> Начинаю восстановление...<br><br>

    <span class="glitch">⚠ ФАЙЛ НЕПОЛНЫЙ. ВОССТАНОВЛЕННЫЕ ФРАГМЕНТЫ:</span><br><br>

    "Высокие силуэты, движущиеся в тумане... Они несут знания прошлого, но хранят их в своей памяти."<br>
    "Восприятие изменено. Координаты зашифрованы. Направление... выше уровня горизонта."<br>
    "Если ты найдёшь их... система будет готова к следующему этапу."<br><br>

    >> Данные фрагментированы. Используй восстановленный идентификатор.<br>
    <span class="glitch" onclick="">[ПЕРЕЙДИ К СЛЕДУЮЩЕМУ УРОВНЮ]</span>
    <div id="codeEntryBox">
        <p class="system-message">Введите код доступа для перехода:</p>

        <div id="codeInputContainer">
            <input type="text" id="accessCodeInput" placeholder="Введите код..."/>
            <button id="submitCode">Подтвердить</button>
        </div>

        <p id="codeErrorMessage" class="error-message hidden-answer">Ошибка: неверный код!</p>
    </div>
</p>

@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("showElements");
        }
    }
}
